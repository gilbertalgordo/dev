import pandas as pd

class KaizenConverter:
    """
    A high-speed unit conversion tool designed for accuracy 
    and modular expansion.
    """
    def __init__(self):
        # Conversion factors relative to a base unit
        self.registry = {
            "length": {
                "base": "meters",
                "factors": {"meters": 1.0, "kilometers": 1000.0, "miles": 1609.34, "feet": 0.3048}
            },
            "mass": {
                "base": "grams",
                "factors": {"grams": 1.0, "kilograms": 1000.0, "pounds": 453.592, "ounces": 28.3495}
            }
        }

    def convert(self, value, category, from_unit, to_unit):
        if category not in self.registry:
            return "Category not supported."
        
        cat = self.registry[category]
        factors = cat["factors"]
        
        # Logic: (Value * From_Factor) / To_Factor
        # Formula: $$V_{target} = \frac{V_{source} \times F_{source}}{F_{target}}$$
        base_value = value * factors[from_unit]
        target_value = base_value / factors[to_unit]
        
        return round(target_value, 4)

    def generate_table(self, category, value, units_list):
        """Generates a matrix for a HUD-style overview."""
        data = []
        for unit in units_list:
            row = {"From": f"{value} {unit}"}
            for target in units_list:
                row[target] = self.convert(value, category, unit, target)
            data.append(row)
        return pd.DataFrame(data)

# Execution
converter = KaizenConverter()
units = ["meters", "kilometers", "miles", "feet"]
table = converter.generate_table("length", 1, units)

print("--- Unit Conversion HUD ---")
print(table.to_string(index=False))



import pint
import pandas as pd
from typing import Union, List

class AdvancedHUDConverter:
    """
    High-performance Unit Conversion Engine with Dimensional Analysis.
    Optimized for integration into HUDs and developer dashboards.
    """
    def __init__(self):
        # Initialize the Pint Unit Registry
        self.ureg = pint.UnitRegistry()
        # Enable compact formatting for HD displays
        self.ureg.default_format = "~P" 

    def quick_convert(self, value: float, from_unit: str, to_unit: str) -> str:
        """
        Converts a single value with dimensional safety.
        Example: convert(1, 'mile', 'km')
        """
        try:
            quantity = value * self.ureg(from_unit)
            result = quantity.to(to_unit)
            return f"{result:.4f}"
        except pint.errors.DimensionalityError as e:
            return f"Error: Dimensional Mismatch ({e.extra_msg})"

    def generate_matrix(self, value: float, units: List[str]) -> pd.DataFrame:
        """
        Generates a HD comparison table (HUD Style).
        """
        matrix = []
        for row_unit in units:
            row_data = {"Source": f"{value} {row_unit}"}
            for col_unit in units:
                try:
                    q = (value * self.ureg(row_unit)).to(col_unit)
                    row_data[col_unit] = f"{q.magnitude:.4f}"
                except:
                    row_data[col_unit] = "N/A"
            matrix.append(row_data)
        
        return pd.DataFrame(matrix)

# --- EXECUTION ---
hud = AdvancedHUDConverter()

# 1. Scientific Conversion (Force, Pressure, Energy)
energy_val = hud.quick_convert(100, "joules", "electron_volt")
print(f"Archangel Precision Check: 100J = {energy_val} eV")

# 2. Dynamic HUD Table Generation
units_to_compare = ["meters", "feet", "inches", "nautical_miles"]
df = hud.generate_matrix(1, units_to_compare)

print("\n--- [HUD UNIT MATRIX] ---")
print(df.to_string(index=False))
