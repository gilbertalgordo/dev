# Conceptual Code: Color Similarity (Euclidean Distance)
import math

def hex_to_rgb(hex_color):
    """Converts a hex color string (e.g., #FF0000) to an RGB vector (tuple)."""
    h = hex_color.lstrip('#')
    return tuple(int(h[i:i+2], 16) for i in (0, 2, 4))

def color_distance(rgb1, rgb2):
    """Calculates the Euclidean distance between two RGB color vectors."""
    # Distance = sqrt((R2-R1)^2 + (G2-G1)^2 + (B2-B1)^2)
    return math.sqrt(
        (rgb2[0] - rgb1[0])**2 + 
        (rgb2[1] - rgb1[1])**2 + 
        (rgb2[2] - rgb1[2])**2
    )

# Example Usage
color_red = hex_to_rgb('#FF0000')      # (255, 0, 0)
color_orange = hex_to_rgb('#FF4500')   # (255, 69, 0)
color_blue = hex_to_rgb('#0000FF')     # (0, 0, 255)

similarity = color_distance(color_red, color_orange)
difference = color_distance(color_red, color_blue)

# A smaller distance (similarity) is expected for red and orange
print(f"Distance between Red and Orange: {similarity:.2f}") 
# A larger distance (difference) is expected for red and blue
print(f"Distance between Red and Blue: {difference:.2f}")



{
  "classes": [],
  "vars": {
    "@g_Accent-BG": "#9400D3",
    "@g_Accent-OG": "#FA8072",
    "@g_Link-Base": "#0804AA"
    // ... more AI-generated color variables
  }
}



-- Step 1: Create a table with a VECTOR column for color RGB values
CREATE TABLE ai_color_palette (
    color_id      NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    color_name    VARCHAR2(100),
    hex_code      VARCHAR2(7),
    -- Define the VECTOR column: 3 dimensions (R, G, B), type FLOAT32
    rgb_vector    VECTOR(3, FLOAT32)
);

-- Step 2: Insert some example color data
-- (Note: The VECTOR literal is used to insert the [R, G, B] values)
INSERT INTO ai_color_palette (color_name, hex_code, rgb_vector) VALUES 
('Oracle Red', '#FF0000', VECTOR(255, 0, 0));

INSERT INTO ai_color_palette (color_name, hex_code, rgb_vector) VALUES 
('White', '#FFFFFF', VECTOR(255, 255, 255));

INSERT INTO ai_color_palette (color_name, hex_code, rgb_vector) VALUES 
('Light Gray', '#D3D3D3', VECTOR(211, 211, 211));

INSERT INTO ai_color_palette (color_name, hex_code, rgb_vector) VALUES 
('Orange Red', '#FF4500', VECTOR(255, 69, 0));

COMMIT;



-- Step 3: Find the top 3 closest colors to a new input color (Bright Pink)
SELECT 
    color_name, 
    hex_code,
    -- Use VECTOR_DISTANCE with the EUCLIDEAN metric for perceptual similarity
    VECTOR_DISTANCE(
        rgb_vector, 
        VECTOR(255, 105, 180),  -- The target color vector [R, G, B]
        COSINE                   -- For colors, EUCLIDEAN or COSINE are common metrics
    ) AS similarity_score
FROM 
    ai_color_palette
ORDER BY 
    similarity_score 
FETCH FIRST 3 ROWS ONLY;

